#include <stdio.h>

int data[15] = { 41,23,153,21,10,68,22,25,198,45,12,561,421,15,222 };
void shellsort();
void insertsort();
void selectionsort();

void main() {
   int menu = 0;
   for (int i = 0; i < 15; i++) {
      printf("%d ", data[i]); //데이터 출력
   }
   printf("\t-정렬 전\n");
   while (1) {
      printf("어떤 정렬을 할지 선택해주세요.\n1. 쉘정렬  2. 삽입정렬  3. 선택정렬\n");
      scanf("%d", &menu);
       if (menu < 1 || menu > 3) {
         system("cls");
         printf("올바른 숫자를 입력해주세요. ( 1, 2, 3 )\n\n"); //선택 범위를 벗어났을 시
      }
      else if (menu == 1) {
         shellsort();
         break; //쉘 정렬 선택시
      }
      else if (menu == 2) {
         insertsort();
         break; //삽입 정렬 선택시
      }
      else {
         selectionsort();
         break; //선택 정렬 선택시
      }
   }
   system("pause");
}

void shellsort() {
   int temp, prev;

   for (int k = 15 / 2; 0 < k; k /= 2) {
      for (int i = 1; i < 15; i++) {
         for (int j = i; 0 < j; j -= k) {

            prev = j - k;
            if (prev < 0)
               break;

            if (data[j] < data[prev])
            {
               int tmp;
               tmp = data[j];
               data[j] = data[prev];
               data[prev] = tmp;
            }
            else
               break;
         }
      }
      for (int index = 0; index < 15; index++)
         printf("%d ", data[index]);
      printf("\n");
   }
}

void insertsort() {
   int i, j, t, temp;
   printf("\n정렬할 원소 :");
   for (t = 0; t < 15; t++) printf("%d ", data[t]);
   printf("\n\n---------- 삽입 정렬 시작 ----------\n");
   for (i = 1; i < 15; i++) {
      temp = data[i];
      j = i;
      while ((j > 0) && (data[j - 1] > temp))
      {
         data[j] = data[j - 1];
         j = j - 1;
      }
      data[j] = temp;
      printf("\n %d단계 : ", i);
      for (t = 0; t < 15; t++)printf("%d ", data[t]);
   }
  }

void selectionsort() {
   int min;
   int temp;

   for (int i = 0; i < 15 - 1; i++) {
      min = i;
      for (int j = i + 1; j < 15; j++) {
         if (data[min] > data[j]) {
            min = j;
         }
      }
      int tmp;
      tmp = data[min];
      data[min] = data[i];
      data[i] = tmp;

      for (int index = 0; index < 15; index++)
         printf("%d ", data[index]);
      printf("\n");
   }
  }
